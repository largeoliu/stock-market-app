<!--pages/index/index.wxml-->
<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar" bindtap="onSearchTap">
    <view class="search-input">
      <text class="search-icon">ğŸ”</text>
      <text class="search-placeholder">æœç´¢è‚¡ç¥¨ä»£ç æˆ–åç§°</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading">
    <loading></loading>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- ä¸»è¦å†…å®¹ -->
  <view wx:else>
    <!-- æœ€è¿‘æœç´¢ -->
    <view wx:if="{{recentSearches.length > 0}}" class="section">
      <view class="section-header">
        <text class="section-title">æœ€è¿‘æœç´¢</text>
        <text class="clear-btn" bindtap="clearRecentSearches">æ¸…é™¤</text>
      </view>
      <view class="recent-list">
        <view 
          wx:for="{{recentSearches}}" 
          wx:key="symbol"
          class="recent-item"
          data-stock="{{item}}"
          bindtap="onStockTap"
        >
          <view class="recent-info">
            <text class="recent-name">{{item.name}}</text>
            <text class="recent-code">{{item.symbol}}</text>
          </view>
          <text class="arrow-icon">â€º</text>
        </view>
      </view>
    </view>
  </view>
</view>